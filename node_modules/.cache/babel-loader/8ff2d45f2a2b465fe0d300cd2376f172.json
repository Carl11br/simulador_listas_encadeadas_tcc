{"ast":null,"code":"import _slicedToArray from \"/home/carloslm/Documents/GitHub/simulador_de_listas_encadeadas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/carloslm/Documents/GitHub/simulador_de_listas_encadeadas/src/components/CodeWithGaps/CodeWithGaps.jsx\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport styles from './CodeWithGaps.module.css';\nvar CodeWithGaps = function CodeWithGaps(_ref) {\n  var code = _ref.code,\n    gaps = _ref.gaps,\n    finalCode = _ref.finalCode;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    draggedGap = _useState2[0],\n    setDraggedGap = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    codeWithGaps = _useState4[0],\n    setCodeWithGaps = _useState4[1];\n  var gapRefs = useRef([]);\n  var replaceStrings = function replaceStrings(code, gaps) {\n    var result = code;\n    var counter = 0;\n    finalCode.current = [];\n    gaps.forEach(function (gap) {\n      while (result.includes(gap)) {\n        var gapPlaceholder = \"{{\".concat(counter, \"}}\");\n        finalCode.current[counter] = {\n          currentCode: '',\n          correctCode: gap\n        };\n        counter++;\n        result = result.replace(gap, gapPlaceholder);\n      }\n    });\n    return result;\n  };\n  useEffect(function () {\n    setCodeWithGaps(replaceStrings(code, gaps));\n  }, []);\n  var handleDragStart = function handleDragStart(event, gap) {\n    event.dataTransfer.setData('text/plain', gap);\n    setDraggedGap(gap);\n  };\n  var handleDragOver = function handleDragOver(event) {\n    event.preventDefault();\n  };\n  var handleDrop = function handleDrop(event, gapIndex) {\n    event.preventDefault();\n    var gapElement = gapRefs.current[gapIndex];\n    var selectionStart = gapElement.selectionStart;\n    var selectionEnd = gapElement.selectionEnd;\n    var currentValue = gapElement.value;\n    var beforeSelection = currentValue.substring(0, selectionStart);\n    var afterSelection = currentValue.substring(selectionEnd);\n    var newValue = beforeSelection + draggedGap + afterSelection;\n    gapElement.value = newValue;\n    gapElement.setSelectionRange(selectionStart, selectionStart + draggedGap.length);\n    finalCode.current[gapIndex].currentCode = newValue;\n    gapElement.dispatchEvent(new Event('input', {\n      bubbles: true\n    }));\n    setDraggedGap('');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(styles.codeWithGapsContainer, \" container h-100\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row h-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"pre\", {\n    className: \"col-8 col-md-10 \".concat(styles.codeContainer, \" h-100\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"code\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, codeWithGaps.split('{{').map(function (line, index) {\n    if (line.includes('}}')) {\n      var _line$split = line.split('}}'),\n        _line$split2 = _slicedToArray(_line$split, 2),\n        gapIndex = _line$split2[0],\n        remaining = _line$split2[1];\n      var gap = gaps[parseInt(gapIndex)];\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        ref: function ref(el) {\n          return gapRefs.current[parseInt(gapIndex)] = el;\n        },\n        type: \"text\",\n        draggable: \"false\",\n        readOnly: true,\n        defaultValue: \"\",\n        onDragOver: handleDragOver // Add onDragOver event handler\n        ,\n        onDrop: function onDrop(e) {\n          return handleDrop(e, parseInt(gapIndex));\n        } // Add onDrop event handler\n        ,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }), remaining);\n    }\n    return line;\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 col-md-2 \".concat(styles.elementsContainer, \" h-100\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, gaps.map(function (gap, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      draggable: \"true\",\n      onDragStart: function onDragStart(e) {\n        return handleDragStart(e, gap);\n      },\n      onDragOver: handleDragOver,\n      onDrop: function onDrop(e) {\n        return handleDrop(e, index);\n      },\n      className: \"\".concat(styles.fillBlankElement),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, gap);\n  }))));\n};\nexport default CodeWithGaps;","map":{"version":3,"names":["React","useEffect","useRef","useState","styles","CodeWithGaps","_ref","code","gaps","finalCode","_useState","_useState2","_slicedToArray","draggedGap","setDraggedGap","_useState3","_useState4","codeWithGaps","setCodeWithGaps","gapRefs","replaceStrings","result","counter","current","forEach","gap","includes","gapPlaceholder","concat","currentCode","correctCode","replace","handleDragStart","event","dataTransfer","setData","handleDragOver","preventDefault","handleDrop","gapIndex","gapElement","selectionStart","selectionEnd","currentValue","value","beforeSelection","substring","afterSelection","newValue","setSelectionRange","length","dispatchEvent","Event","bubbles","createElement","className","codeWithGapsContainer","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","codeContainer","split","map","line","index","_line$split","_line$split2","remaining","parseInt","Fragment","key","ref","el","type","draggable","readOnly","defaultValue","onDragOver","onDrop","e","elementsContainer","onDragStart","fillBlankElement"],"sources":["/home/carloslm/Documents/GitHub/simulador_de_listas_encadeadas/src/components/CodeWithGaps/CodeWithGaps.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport styles from './CodeWithGaps.module.css';\n\nconst CodeWithGaps = ({ code, gaps, finalCode }) => {\n  const [draggedGap, setDraggedGap] = useState('');\n  const [codeWithGaps, setCodeWithGaps] = useState('');\n  const gapRefs = useRef([]);\n\n  const replaceStrings = (code, gaps) => {\n    let result = code;\n    let counter = 0;\n    finalCode.current = [];\n    gaps.forEach((gap) => {\n      while (result.includes(gap)) {\n        const gapPlaceholder = `{{${counter}}}`;\n        finalCode.current[counter] = {\n          currentCode: '',\n          correctCode: gap,\n        };\n        counter++;\n        result = result.replace(gap, gapPlaceholder);\n      }\n    });\n    return result;\n  };\n\n  useEffect(() => {\n    setCodeWithGaps(replaceStrings(code, gaps));\n  }, []);\n\n  const handleDragStart = (event, gap) => {\n    event.dataTransfer.setData('text/plain', gap);\n    setDraggedGap(gap);\n  };\n\n  const handleDragOver = (event) => {\n    event.preventDefault();\n  };\n\n  const handleDrop = (event, gapIndex) => {\n    event.preventDefault();\n    const gapElement = gapRefs.current[gapIndex];\n    const selectionStart = gapElement.selectionStart;\n    const selectionEnd = gapElement.selectionEnd;\n\n    const currentValue = gapElement.value;\n    const beforeSelection = currentValue.substring(0, selectionStart);\n    const afterSelection = currentValue.substring(selectionEnd);\n\n    const newValue = beforeSelection + draggedGap + afterSelection;\n    gapElement.value = newValue;\n    gapElement.setSelectionRange(\n      selectionStart,\n      selectionStart + draggedGap.length\n    );\n\n    finalCode.current[gapIndex].currentCode = newValue;\n    gapElement.dispatchEvent(new Event('input', { bubbles: true }));\n    setDraggedGap('');\n  };\n\n  return (\n    <div className={`${styles.codeWithGapsContainer} container h-100`}>\n      <div className=\"row h-100\">\n        <pre className={`col-8 col-md-10 ${styles.codeContainer} h-100`}>\n          <code>\n            {/* ...existing code... */}\n            {codeWithGaps.split('{{').map((line, index) => {\n              if (line.includes('}}')) {\n                const [gapIndex, remaining] = line.split('}}');\n                const gap = gaps[parseInt(gapIndex)];\n                return (\n                  <React.Fragment key={index}>\n                    <input\n                      ref={(el) => (gapRefs.current[parseInt(gapIndex)] = el)}\n                      type=\"text\"\n                      draggable=\"false\"\n                      readOnly\n                      defaultValue=\"\"\n                      onDragOver={handleDragOver} // Add onDragOver event handler\n                      onDrop={(e) => handleDrop(e, parseInt(gapIndex))} // Add onDrop event handler\n                    />\n                    {remaining}\n                  </React.Fragment>\n                );\n              }\n              return line;\n            })}\n          </code>\n        </pre>\n        <div className={`col-4 col-md-2 ${styles.elementsContainer} h-100`}>\n          {gaps.map((gap, index) => (\n            <div\n              key={index}\n              draggable=\"true\"\n              onDragStart={(e) => handleDragStart(e, gap)}\n              onDragOver={handleDragOver}\n              onDrop={(e) => handleDrop(e, index)}\n              className={`${styles.fillBlankElement}`}\n            >\n              {gap}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CodeWithGaps;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}